#include <Wire.h>
#include <Adafruit_ADS1X15.h>

Adafruit_ADS1115 ads;


const int numButtons = 11;

const int startPin = 4;

const int potPin = A0;

int volume1 = 0;
int volume2 = 0;
int volume3 = 0;

int controlValue = 0; // potmeter op Pico (bijv. effect / menu / tempo)

// status van pinnen
int buttonPins[numButtons];
bool buttonStates[numButtons];

void setup() {
  Serial.begin(115200);
  for (int i = 0; i< numButtons; i++) {
    buttonPins[i] = startPin + i;
  pinMode(buttonPins[i], INPUT_PULLUP);
  buttonStates[i] = HIGH;
  
  }

ads.begin();
  Serial.println("Knoppen klaar");

}

void loop (){
  for (int i = 0; i < numButtons; i++) {
    bool pressed = (digitalRead(buttonPins[i])) == LOW;

    if (pressed != buttonStates[i]) {
      buttonStates[i] = pressed;
      if (pressed) {
        Serial.print("Knop ");
        Serial.print(i + 1);
        Serial.println(" ingedrukt");
      } else{
        Serial.print("Knop ");
        Serial.print(i + 1);
        Serial.println(" losgelaten");
      }

    }
  }

// potmeters

// ads potmeters 

volume1 = ads.readADC_SingleEnded(0); //ads a0
volume2 = ads.readADC_SingleEnded(1); //ads a1
volume3 = ads.readADC_SingleEnded(2); //ads a2

// pico potmeter
controlValue = analogRead(potPin);

// debug
Serial.print("vol1: ");
Serial.print(volume1);
Serial.print(" | Vol2: ");
Serial.print(volume2);
Serial.print(" | Vol3: ");
Serial.print(volume3);
Serial.print(" | Control: ");
Serial.println(controlValue);

delay(200);


}
